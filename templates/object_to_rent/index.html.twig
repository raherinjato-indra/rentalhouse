{% extends 'baseadmin.html.twig' %}

{% block title %}Biens Immobiliers{% endblock %}

{% block souscarouselle %}
<style>
    .card-wrapper {
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        overflow: hidden;
        max-width: 350px;
        font-family: 'Segoe UI', sans-serif;
        font-size: 14px;
        margin: 20px auto;
    }

    .card-image img {
        width: 100%;
        height: 200px;
        object-fit: cover;
    }

    .card-body {
        padding: 12px;
    }

    .card-title {
        font-size: 16px;
        font-weight: 600;
        color: #004080;
        margin: 4px 0 10px;
    }

    .price-line {
        font-size: 13px;
        margin-bottom: 6px;
        display: flex;
        gap: 6px;
        color: #000;
    }

    .price-line i {
        font-style: normal;
        margin-right: 4px;
    }

    .tags-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 6px 12px;
        background-color: #f8f9fa;
        padding: 12px;
        border-radius: 12px;
        margin-top: 8px;
        list-style: none;
        font-size: 13px;
        color: #333;
    }

    .tags-grid li {
        display: flex;
        align-items: center;
        background: #fff;
        padding: 8px;
        border-radius: 10px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .tags-grid li i {
        margin-right: 6px;
        font-style: normal;
        font-size: 16px;
    }

    .card-actions {
        margin-top: 12px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .card-actions a,
    .card-actions form button {
        background-color: #004080;
        color: white;
        padding: 6px 10px;
        border-radius: 6px;
        font-size: 13px;
        text-decoration: none;
        border: none;
        cursor: pointer;
    }

    .card-actions a.edit {
        background-color: #ffc107;
        color: #000;
    }

    .card-actions form button.btn-delete {
        background-color: #dc3545;
    }

    .card-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 20px;
        padding: 20px;
    }

    .btn-add {
        display: block;
        margin: 20px auto;
        padding: 10px 16px;
        background-color: #004080;
        color: white;
        border-radius: 8px;
        text-align: center;
        font-weight: bold;
        text-decoration: none;
    }

    .btn-add:hover {
        background-color: #003366;
    }

    h1 {
        text-align: center;
        color: #004080;
    }
</style>

<h1>üè† Nos Biens Immobiliers</h1>
<a href="{{ path('app_object_to_rent_new') }}" class="btn-add">‚ûï Ajouter un bien</a>

<div class="card-container">
    {% for object in object_to_rents %}
        <div class="card-wrapper">
            <div class="card-image">
            
            
             {% if object.imageFilename %}
                <img src="{{ asset('uploads/photos/' ~ object.imageFilename) }}" alt="Photo de {{ object.name }}" style="max-width:200px;">
            {% else %}
                <p>Pas de photo</p>
            {% endif %}




            </div>
            <div class="card-body">
                <div class="price-line"><i>üí∞</i> Prix : {{ object.price }} ‚Ç¨/mois</div>
                <h2 class="card-title">{{ object.name }}</h2>

                <ul class="tags-grid">
                    <li><i>üìê</i> Surface : {{ object.Surface }} m¬≤</li>
                    <li><i>üõèÔ∏è</i> Chambres : {{ object.NbrChambres }}</li>
                    <li><i>üõãÔ∏è</i> Pi√®ces : {{ object.NbrPieces }}</li>
                    <li><i>üöø</i> SDB : {{ object.NbrSalleDeBain }}</li>
                    <li><i>üß≠</i> {{ object.Coordonnee ? object.Coordonnee.latitude ~ ', ' ~ object.Coordonnee.longitude : 'Coordonn√©es non renseign√©es' }}</li>
                    <li><i>üçΩÔ∏è</i> Cuisine √©quip√©e : {{ object.CuisineEquipee ? 'Oui' : 'Non' }}</li>
                    <li><i>üå≥</i> Jardin : {{ object.Jardin ? 'Oui' : 'Non' }}</li>
                    <li><i>üèóÔ∏è</i> Ann√©e : {{ object.AnneeConstruction }}</li>
                    <li><i>üöó</i> Garage : {{ object.Garage ? 'Oui' : 'Non' }}</li>
                    <li><i>üü¢</i> Activ√© : {{ object.activated ? 'Oui' : 'Non' }}</li>
                </ul>

                {% if object.Coordonnee %}
                    <div style="margin-top: 10px; font-size: 13px;">
                        Adresse : {{ object.Coordonnee.adresse }}<br>
                        Code Postal : {{ object.Coordonnee.CodePostal }}<br>
                        Quartier : {{ object.Coordonnee.quartier.nom }}
                        <br>
                        <a href="https://www.google.com/maps?q={{ object.Coordonnee.latitude }},{{ object.Coordonnee.longitude }}" target="_blank">üìç Voir sur la carte</a>
                    </div>
                {% endif %}

                <div class="card-actions">
                    <a href="{{ path('app_object_to_rent_show', {'id': object.id}) }}">Voir</a>
                    <a href="{{ path('app_object_to_rent_edit', {'id': object.id}) }}" class="edit">Modifier</a>
                    {{ include('object_to_rent/_delete_form.html.twig', { object_to_rent: object }) }}
                </div>
            </div>
        </div>
    {% else %}
        <p>Aucun bien trouv√©.</p>
    {% endfor %}
</div>
{% endblock %}

